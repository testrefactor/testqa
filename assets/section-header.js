"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_toPropertyKey(r.key),r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _createSuper(n){var r=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(n);return _possibleConstructorReturn(this,r?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _possibleConstructorReturn(e,t){if(t&&("object"===_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _wrapNativeSuper(e){var n="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(e){if(null===e||!_isNativeFunction(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return _construct(e,arguments,_getPrototypeOf(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(t,e)})(e)}function _construct(e,t,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);t=new(Function.bind.apply(e,r));return n&&_setPrototypeOf(t,n.prototype),t}).apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _isNativeFunction(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _defineProperty(e,t,n){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){e=_toPrimitive(e,"string");return"symbol"===_typeof(e)?e:String(e)}function _toPrimitive(e,t){if("object"!==_typeof(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}!function r(i,o,s){function u(t,e){if(!o[t]){if(!i[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(c)return c(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}n=o[t]={exports:{}},i[t][0].call(n.exports,function(e){return u(i[t][1][e]||e)},n,n.exports,r,i,o,s)}return o[t].exports}for(var c="function"==typeof require&&require,e=0;e<s.length;e++)u(s[e]);return u}({1:[function(e,t,n){customElements.get("s-header")||customElements.define("s-header",function(){_inherits(t,_wrapNativeSuper(HTMLElement));var e=_createSuper(t);function t(){var i;return _classCallCheck(this,t),_defineProperty(_assertThisInitialized(i=e.call(this)),"gtmAnalyticPageEvent",function(){window.PubSub.publish("gtm_page_view")}),_defineProperty(_assertThisInitialized(i),"handleScroll",function(){var e=window.pageYOffset||document.documentElement.scrollTop,t=document.querySelector(".s-announcement-bar"),t=t?t.offsetHeight:0,n=t+i.offsetHeight,r=i.classList.contains("s-header__standard-page");0===e?i.style.top="".concat(t,"px"):(t<e?(i.removeAttribute("style"),i.classList.remove("transition-disable")):(i.style.top="".concat(t-e,"px"),i.classList.add("transition-disable")),r?n<e&&e>i.lastScrollTop?i.classList.add("hide"):i.classList.remove("hide"):e>i.lastScrollTop?i.classList.add("hide"):i.classList.remove("hide")),100<e?(i.logo.classList.add("hide"),i.monogram.classList.add("show"),i.classList.add("bg-filled")):(i.logo.classList.remove("hide"),i.monogram.classList.remove("show"),i.classList.remove("bg-filled")),i.lastScrollTop=e<=0?0:e}),_defineProperty(_assertThisInitialized(i),"updateCartCounter",function(){fetch(window.Shopify.routes.root+"cart.js",{headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){i.cartUpdated(e)})}),_defineProperty(_assertThisInitialized(i),"cartUpdated",function(e){i.cartCounter.textContent=e.item_count,0<e.item_count?i.cartCounter.classList.add("is-active"):i.cartCounter.classList.remove("is-active")}),_defineProperty(_assertThisInitialized(i),"updateHeaderWishlistCount",function(e){0<(null==e?void 0:e.length)&&i.wishlistCounter.classList.add("is-active"),i.wishlistCounter.setAttribute("data-count",e.length),i.wishlistCounter.innerHTML=e.length}),_defineProperty(_assertThisInitialized(i),"addOneHeaderWishlistCount",function(){var e=+i.wishlistCounter.dataset.count+1;i.wishlistCounter.setAttribute("data-count",e),0<(i.wishlistCounter.innerHTML=e)&&i.wishlistCounter.classList.add("is-active")}),_defineProperty(_assertThisInitialized(i),"removeOneHeaderWishlistCount",function(){var e=+i.wishlistCounter.dataset.count-1;i.wishlistCounter.setAttribute("data-count",e),(i.wishlistCounter.innerHTML=e)<=0&&i.wishlistCounter.classList.remove("is-active")}),_defineProperty(_assertThisInitialized(i),"openSideCart",function(){window.PubSub.publish("open-side-cart")}),_defineProperty(_assertThisInitialized(i),"openSearch",function(){window.PubSub.publish("open-modal-search")}),_defineProperty(_assertThisInitialized(i),"openMenuMobile",function(){window.PubSub.publish("open-mobile-menu")}),_defineProperty(_assertThisInitialized(i),"openMenuDesktop",function(){window.PubSub.publish("open-mega-menu")}),_defineProperty(_assertThisInitialized(i),"openLoginModal",function(){window.PubSub.publish("open-login")}),i.activeMenu=null,i}return _createClass(t,[{key:"connectedCallback",value:function(){var e,t=this;this.gtmAnalyticPageEvent(),window.location.href.includes("?sales_channel=venn_apps")?this.classList.add("is-hidden-venn-app"):(this.monogram=this.querySelector(".s-header__monogram"),this.logo=this.querySelector(".js-header__logo"),this.lastScrollTop=0,this.cartCounter=this.querySelector(".js-header__cart-count"),this.wishlistCounter=this.querySelector(".js-header__wishlist-count"),this.menuOpenerMobile=this.querySelector(".js-header__menu-button-mobile"),this.menuOpenerDesktop=this.querySelector(".js-header__menu-button-desktop"),this.searchButtons=this.querySelectorAll(".js-header__search-button"),this.cartButton=this.querySelector(".js-header__cart-button"),this.accountButton=this.querySelector(".js-header__account-button"),this.menuOpenerMobile.addEventListener("click",this.openMenuMobile),this.menuOpenerDesktop.addEventListener("mouseover",this.openMenuDesktop),this.searchButtons.forEach(function(e){return e.addEventListener("click",t.openSearch)}),this.cartButton.addEventListener("click",this.openSideCart),null!=(e=this.accountButton)&&e.addEventListener("click",this.openLoginModal),this.updateCartCounterUnsubscriber=window.PubSub.subscribe("update-header-cart-counter",this.updateCartCounter),this.cartUpdatedUnsubscriber=window.PubSub.subscribe("cart-updated",this.cartUpdated),this.loadWishlistCounterUnsubscriber=window.PubSub.subscribe("wishlist-loaded",function(e){t.updateHeaderWishlistCount(e.listcontents)}),this.addOneWishlistCounterUnsubscriber=window.PubSub.subscribe("wishlist-add-product",function(){t.addOneHeaderWishlistCount()}),this.removeOneWishlistCounterUnsubscriber=window.PubSub.subscribe("wishlist-remove-product",function(){t.removeOneHeaderWishlistCount()}),this.updateCartCounter(),window.addEventListener("scroll",this.handleScroll),this.handleScroll())}},{key:"disconnectedCallback",value:function(){var t=this;this.updateCartCounterUnsubscriber(),this.cartUpdatedUnsubscriber(),this.loadWishlistCounterUnsubscriber(),this.addOneWishlistCounterUnsubscriber(),this.removeOneWishlistCounterUnsubscriber(),window.removeEventListener("scroll",this.handleScroll),this.menuOpenerMobile.removeEventListener("click",this.openMenuMobile),this.menuOpenerDesktop.removeEventListener("mouseover",this.openMenuDesktop),this.searchButtons.forEach(function(e){return e.removeEventListener("click",t.openSearch)}),this.cartButton.removeEventListener("click",this.openSideCart),this.accountButton.removeEventListener("click",this.openLoginModal)}}]),t}())},{}]},{},[1]);